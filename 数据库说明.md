
储存函数登录
CREATE DEFINER=`root`@`localhost` FUNCTION `user_login`(username varchar(20),password varchar(20)) RETURNS varchar(255) CHARSET utf8
BEGIN
return (select concat("用户名：",username," 角色：",role_name," 注册时间：",register_time) from sys_user_role sur inner join user on sur.user_id=user.user_id inner join sys_role sr on sur.role_id=sr.role_id
where username=username and user_password=password);
END